\_CFAB_3DHUB/
â”œâ”€â”€ **work_plan.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ TODO.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ \_audyt.md âšª PLIK PROCESOWY/WYTYCZNE - Poza zakresem analizy kodu
â”œâ”€â”€ run_operation_tests.py ğŸŸ¢ NISKI PRIORYTET - Skrypt uruchamiajÄ…cy wybrane testy jednostkowe (operacje na plikach/folderach, nazwy Unicode) za pomocÄ… pytest. ZaleÅ¼ny od pytest i plikÃ³w testowych w tests/unit/.
â”œâ”€â”€ run_tests_with_unicode.bat ğŸŸ¢ NISKI PRIORYTET - Skrypt .bat dla Windows, ustawia kodowanie konsoli na UTF-8 i uruchamia run_operation_tests.py. Przydatny do testÃ³w z nazwami plikÃ³w Unicode. ZaleÅ¼ny od run_operation_tests.py i Å›rodowiska Python.
â”œâ”€â”€ run_tests_operations.bat ğŸŸ¢ NISKI PRIORYTET - Skrypt .bat dla Windows, uruchamia testy operacji na plikach i folderach (pytest), zapisujÄ…c wyniki do test_results_operations.txt. ZaleÅ¼ny od pytest i konkretnych plikÃ³w testowych w tests/unit/.
â”œâ”€â”€ run_tests.bat ğŸŸ¡ ÅšREDNI PRIORYTET - Skrypt .bat dla Windows, uruchamia testy jednostkowe oraz testy z raportem pokrycia kodu dla katalogu src/. ZaleÅ¼ny od pytest, pytest-cov i struktury projektu. Zawiera nieaktualny komentarz.
â”œâ”€â”€ requirements.txt ğŸ”´ WYSOKI PRIORYTET - Definiuje zaleÅ¼noÅ›ci projektu (PyQt6, Pillow, patool). Kluczowy problem: brak wersjonowania zaleÅ¼noÅ›ci, co zagraÅ¼a stabilnoÅ›ci i odtwarzalnoÅ›ci Å›rodowiska.
â”œâ”€â”€ run_app.py ğŸŸ¢ NISKI PRIORYTET - GÅ‚Ã³wny skrypt uruchomieniowy aplikacji. Modyfikuje sys.path w celu poprawnego importu moduÅ‚Ã³w z src/ i wywoÅ‚uje funkcjÄ™ main() z src.main. ZaleÅ¼ny od src.main.
â”œâ”€â”€ pytest.ini ğŸŸ¢ NISKI PRIORYTET - Plik konfiguracyjny dla pytest. Definiuje Å›cieÅ¼ki testÃ³w (tests/) oraz markery 'unit' i 'integration'. Dobra konfiguracja podstawowa.
â”œâ”€â”€ \_auto_correct.md âšª PLIK PROCESOWY/WYTYCZNE - Poza zakresem analizy kodu
â”œâ”€â”€ PRD.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ README.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ **clean_code.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ .gitignore ğŸŸ¢ NISKI PRIORYTET - Definiuje pliki i katalogi ignorowane przez Git. Kompleksowy, zawiera standardowe wzorce dla Pythona, IDE, OS oraz sekcjÄ™ na reguÅ‚y specyficzne dla projektu.
â”œâ”€â”€ DATA.md âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ main.py ğŸŸ¢ NISKI PRIORYTET - GÅ‚Ã³wny moduÅ‚ aplikacji. Inicjalizuje logowanie, QApplication i MainWindow. Zawiera ostrzeÅ¼enie o poprawnym sposobie uruchamiania. ZaleÅ¼ny od PyQt6, src.ui.main_window, src.utils.logging_config.
â”‚ â”œâ”€â”€ app_config.py ğŸŸ¢ NISKI PRIORYTET - Przechowuje konfiguracjÄ™ aplikacji (listy obsÅ‚ugiwanych rozszerzeÅ„ plikÃ³w archiwÃ³w i podglÄ…dÃ³w). Sugerowana drobna refaktoryzacja inicjalizacji listy SUPPORTED_PREVIEW_EXTENSIONS dla czytelnoÅ›ci.
â”‚ â”œâ”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog src jako pakiet Pythona. Standardowe i akceptowalne.
â”‚ â”œâ”€â”€ ui/
â”‚ â”‚ â”œâ”€â”€ main_window.py ğŸ”´ WYSOKI PRIORYTET - GÅ‚Ã³wny komponent UI aplikacji (klasa MainWindow). Odpowiada za wyÅ›wietlanie drzewa katalogÃ³w, galerii kafelkÃ³w plikÃ³w, filtrowanie, obsÅ‚ugÄ™ miniatur i interakcje uÅ¼ytkownika. Ze wzglÄ™du na rozmiar i zÅ‚oÅ¼onoÅ›Ä‡, wymaga szczegÃ³Å‚owej analizy pod kÄ…tem wydajnoÅ›ci, zarzÄ…dzania pamiÄ™ciÄ… i czytelnoÅ›ci. ZaleÅ¼ny od PyQt6, logiki aplikacji (src.logic) i widgetÃ³w (src.ui.widgets).
â”‚ â”‚ â”œâ”€â”€ folder_tree_click_handler.py ğŸŸ¡ ÅšREDNI PRIORYTET - Zawiera funkcjÄ™ obsÅ‚ugujÄ…cÄ… klikniÄ™cie folderu w drzewie katalogÃ³w (w MainWindow). Skanuje folder, stosuje metadane, aktualizuje widok. Kwestia do rozwaÅ¼enia: umiejscowienie tej funkcji (czy nie powinna byÄ‡ metodÄ… MainWindow) oraz obsÅ‚uga potencjalnie dÅ‚ugotrwaÅ‚ych operacji (np. w tle). ZaleÅ¼ny od src.logic (scanner, metadata_manager) i MainWindow.
â”‚ â”‚ â”œâ”€â”€ main_window_tree_ops.py ğŸ”´ WYSOKI PRIORYTET - Zawiera funkcje obsÅ‚ugujÄ…ce operacje na drzewie katalogÃ³w (inicjalizacja, menu kontekstowe, tworzenie/zmiana nazwy/usuwanie folderÃ³w) oraz prawdopodobnie menu kontekstowe dla plikÃ³w. KRYTYCZNY PROBLEM: Zawiera zduplikowanÄ… funkcjÄ™ folder_tree_item_clicked z pliku folder_tree_click_handler.py. NaleÅ¼y rozwiÄ…zaÄ‡ duplikacjÄ™. Kwestie wydajnoÅ›ciowe (odÅ›wieÅ¼anie modelu, ponowne skanowanie) i architektura (funkcje jako metody vs. w osobnym module) do przeglÄ…du. ZaleÅ¼ny od PyQt6, src.logic (file_operations, metadata_manager) i MainWindow.
â”‚ â”‚ â”œâ”€â”€ integration_guide.txt âšª PLIK DOKUMENTACYJNY - Poza zakresem analizy kodu
â”‚ â”‚ â”œâ”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog src/ui jako subpakiet Pythona. Standardowe i akceptowalne.
â”‚ â”‚ â”œâ”€â”€ widgets/
â”‚ â”‚ â”‚ â”œâ”€â”€ file_tile_widget.py ğŸŸ¡ ÅšREDNI PRIORYTET - Widget (kafelek) wyÅ›wietlajÄ…cy informacje o parze plikÃ³w (miniatura, nazwa, rozmiar, gwiazdki, ulubione, tag koloru). Emituje sygnaÅ‚y do obsÅ‚ugi interakcji. WaÅ¼ny dla UI. Do analizy: wydajnoÅ›Ä‡ Å‚adowania/skalowania miniatur, obsÅ‚uga zdarzeÅ„, zarzÄ…dzanie pamiÄ™ciÄ…. ZaleÅ¼ny od PyQt6 i src.models.file_pair.
â”‚ â”‚ â”‚ â”œâ”€â”€ preview_dialog.py ğŸŸ¡ ÅšREDNI PRIORYTET - Dialog wyÅ›wietlajÄ…cy podglÄ…d obrazu (QPixmap). Automatycznie dostosowuje rozmiar do obrazu i ekranu. GÅ‚Ã³wny problem: skomplikowana i powtarzalna logika obliczania poczÄ…tkowego rozmiaru w konstruktorze wymaga refaktoryzacji. ZaleÅ¼ny od PyQt6.
â”‚ â”‚ â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Inicjalizuje pakiet widgets. Eksportuje FileTileWidget przez **all**. Do rozwaÅ¼enia: czy PreviewDialog rÃ³wnieÅ¼ powinien byÄ‡ w **all**.
â”‚ â”‚ â””â”€â”€ delegates/
â”‚ â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog src/ui/delegates jako subpakiet Pythona. Standardowe i akceptowalne.
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ logging_config.py ğŸŸ¢ NISKI PRIORYTET - Konfiguruje system logowania aplikacji (poziom, konsola, plik z rotacjÄ…). Dobrze zorganizowany i elastyczny. ZaleÅ¼ny od logging, os.
â”‚ â”‚ â”œâ”€â”€ image_utils.py ğŸŸ¡ ÅšREDNI PRIORYTET - Zawiera funkcje pomocnicze do tworzenia placeholderÃ³w QPixmap (create_placeholder_pixmap) i konwersji obrazÃ³w PIL na QPixmap (pillow_image_to_qpixmap). Sugestie: poprawa centrowania tekstu w placeholderze, przeglÄ…d formatu poÅ›redniego (JPEG) przy konwersji PIL->QPixmap. ZaleÅ¼ny od PIL, PyQt6.
â”‚ â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog src/utils jako subpakiet Pythona. Standardowe i akceptowalne.
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ file_pair.py ğŸ”´ WYSOKI PRIORYTET - Definiuje klasÄ™ FilePair, kluczowy model danych reprezentujÄ…cy parÄ™ plikÃ³w (archiwum, podglÄ…d) wraz z metadanymi (ulubione, gwiazdki, kolor). Odpowiada za Å‚adowanie miniatur, pobieranie rozmiaru i zarzÄ…dzanie metadanymi. Prawdopodobnie wykonuje teÅ¼ operacje na plikach (zmiana nazwy, usuwanie, przenoszenie) - do szczegÃ³Å‚owej weryfikacji. ZaleÅ¼ny od PIL, PyQt6, src.utils.image_utils, os, logging.
â”‚ â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog src/models jako subpakiet. Do rozwaÅ¼enia: wyeksportowanie klasy FilePair dla uÅ‚atwienia importu.
â”‚ â””â”€â”€ logic/
â”‚ â”œâ”€â”€ scanner.py ğŸŸ¡ ÅšREDNI PRIORYTET - Odpowiada za rekursywne skanowanie folderÃ³w w poszukiwaniu par plikÃ³w (archiwum + podglÄ…d) na podstawie ich nazw i rozszerzeÅ„. Logika parowania i obsÅ‚ugi duplikatÃ³w (pierwszy znaleziony) do ewentualnego przeglÄ…du pod kÄ…tem specyficznych wymagaÅ„. ZaleÅ¼ny od src.app_config, src.models.file_pair, os, logging.
â”‚ â”œâ”€â”€ file_operations.py ğŸŸ¡ ÅšREDNI PRIORYTET - Zestaw funkcji do operacji na plikach/folderach (otwieranie zewnÄ™trzne, tworzenie, zmiana nazwy, usuwanie). Solidna implementacja z podstawowÄ… walidacjÄ… i obsÅ‚ugÄ… bÅ‚Ä™dÃ³w. NieuÅ¼ywany import 'platform'. ZaleÅ¼ny od PyQt6, os, shutil, logging.
â”‚ â”œâ”€â”€ metadata_manager.py ğŸŸ¡ ÅšREDNI PRIORYTET - ZarzÄ…dza metadanymi (ulubione, gwiazdki, kolory) dla par plikÃ³w, przechowujÄ…c je w pliku JSON w folderze .app_metadata. Solidna implementacja z bezpiecznym zapisem. NieuÅ¼ywana funkcja get_absolute_path. ZaleÅ¼ny od json, os, shutil, logging i modelu FilePair.
â”‚ â”œâ”€â”€ filter_logic.py ğŸŸ¡ ÅšREDNI PRIORYTET - Implementuje logikÄ™ filtrowania listy obiektÃ³w FilePair na podstawie kryteriÃ³w (ulubione, gwiazdki, tag koloru). Solidna implementacja z bardzo szczegÃ³Å‚owym logowaniem DEBUG. ZaleÅ¼ny od src.models.file_pair, logging.
â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Inicjalizuje pakiet logic. Eksportuje funkcje scan_folder_for_pairs i filter_file_pairs przez **all**. Do rozwaÅ¼enia: czy inne komponenty z src.logic powinny byÄ‡ rÃ³wnieÅ¼ eksportowane.
â””â”€â”€ tests/
â”œâ”€â”€ conftest.py ğŸŸ¢ NISKI PRIORYTET - Definiuje wspÃ³Å‚dzielone fixture'y Pytest. Zawiera przykÅ‚adowÄ… fixture 'sample_fixture'. Do weryfikacji, czy fixture jest uÅ¼ywana. ZaleÅ¼ny od pytest.
â”œâ”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog tests jako pakiet Pythona. Standardowe i niezbÄ™dne dla poprawnego dziaÅ‚ania Pytest.
â”œâ”€â”€ unit/
â”‚ â”œâ”€â”€ test_unicode_filenames.py ğŸŸ¢ NISKI PRIORYTET - Testy jednostkowe dla obsÅ‚ugi nazw plikÃ³w i folderÃ³w z znakami Unicode (np. Cyrylica) w operacjach na FilePair, folderach i skanerze. Dobrze zorganizowane. ZaleÅ¼ne od pytest, PIL, logiki aplikacji i modeli.
â”‚ â”œâ”€â”€ test_file_pair.py ğŸŸ¡ ÅšREDNI PRIORYTET - Testy jednostkowe dla klasy FilePair. PokrywajÄ… podstawowÄ… inicjalizacjÄ™, rozmiar, Å‚adowanie miniatur (z mockowaniem konwersji do QPixmap). Brakuje testÃ³w dla metadanych (ulubione, gwiazdki, kolory) i potencjalnych operacji na plikach. ZaleÅ¼ne od pytest, PIL, unittest.mock.
â”‚ â”œâ”€â”€ test_folder_operations.py ğŸŸ¢ NISKI PRIORYTET - Testy jednostkowe dla funkcji create_folder, rename_folder, delete_folder z src.logic.file_operations. Kompleksowe, pokrywajÄ… rÃ³Å¼ne scenariusze pomyÅ›lne i bÅ‚Ä™dne, w tym walidacjÄ™ nazw i bÅ‚Ä™dy uprawnieÅ„ (mockowane). ZaleÅ¼ne od pytest, unittest.mock.
â”‚ â”œâ”€â”€ test_file_pair_operations.py ğŸŸ¢ NISKI PRIORYTET - Testy jednostkowe dla metod rename, delete, move w klasie FilePair. Dobrze zorganizowane, pokrywajÄ… scenariusze pomyÅ›lne i bÅ‚Ä™dne (konflikty, nieistniejÄ…ce Å›cieÅ¼ki). ZaleÅ¼ne od pytest, PIL.
â”‚ â”œâ”€â”€ test_image_utils.py ğŸŸ¡ ÅšREDNI PRIORYTET - Testy jednostkowe dla create_placeholder_pixmap i pillow_image_to_qpixmap. PokrywajÄ… podstawowe scenariusze. Brakuje testÃ³w dla rÃ³Å¼nych trybÃ³w obrazÃ³w, renderowania tekstu/koloru w placeholderze oraz obsÅ‚ugi bÅ‚Ä™dÃ³w. ZbÄ™dne uÅ¼ycie tempfile w jednym teÅ›cie. ZaleÅ¼ne od pytest, PIL, PyQt6.
â”‚ â”œâ”€â”€ test_metadata_manager.py ğŸŸ¢ NISKI PRIORYTET - Testy jednostkowe dla src.logic.metadata_manager. PokrywajÄ… generowanie Å›cieÅ¼ek, konwersje Å›cieÅ¼ek, Å‚adowanie (rÃ³Å¼ne scenariusze pliku), zapisywanie i aplikowanie metadanych (gÅ‚Ã³wnie is_favorite). NieuÅ¼ywany import patch. ZaleÅ¼ne od pytest, src.models.file_pair.
â”‚ â”œâ”€â”€ test_scanner.py ğŸ”´ WYSOKI PRIORYTET - Aktualnie zawiera tylko placeholder (assert True). Brak rzeczywistych testÃ³w jednostkowych dla logiki src.logic.scanner.py. Wymaga pilnego uzupeÅ‚nienia o kompleksowe testy (rÃ³Å¼ne struktury folderÃ³w, typy plikÃ³w, przypadki brzegowe).
â”‚ â”œâ”€â”€ test_file_operations.py ğŸ”´ WYSOKI PRIORYTET - Testuje tylko funkcjÄ™ open_archive_externally z src.logic.file_operations (z uÅ¼yciem mockÃ³w dla OS i Qt). Krytyczny brak testÃ³w dla create_folder, rename_folder, delete_folder w tym pliku (sÄ… w test_folder_operations.py). NieuÅ¼ywany import MagicMock. ZaleÅ¼ny od pytest, unittest.mock.
â”‚ â”œâ”€â”€ test_file_pair_favorite.py ğŸŸ¢ NISKI PRIORYTET - Testy jednostkowe dla funkcjonalnoÅ›ci 'Ulubione' w klasie FilePair (domyÅ›lny stan, przeÅ‚Ä…czanie, ustawianie). Dobre, skoncentrowane testy. ZaleÅ¼ne od pytest.
â”‚ â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog tests/unit jako subpakiet Pythona. Standardowe i niezbÄ™dne dla poprawnego dziaÅ‚ania Pytest.
â””â”€â”€ integration/
â”œâ”€â”€ test_main.py ğŸ”´ WYSOKI PRIORYTET - Aktualnie zawiera tylko placeholder (assert True). Brak rzeczywistych testÃ³w integracyjnych. Wymaga pilnego uzupeÅ‚nienia o testy sprawdzajÄ…ce wspÃ³Å‚pracÄ™ komponentÃ³w aplikacji.
â””â”€â”€ **init**.py ğŸŸ¢ NISKI PRIORYTET - Pusty plik **init**.py, oznaczajÄ…cy katalog tests/integration jako subpakiet Pythona. Standardowe i niezbÄ™dne dla poprawnego dziaÅ‚ania Pytest.
